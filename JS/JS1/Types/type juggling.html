<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
// ================================= Преобразование типов для примитивов ============================


// ---------------- строковое преобразование --------------------------------------------------------
    console.log('To string:');
// Строковое преобразование происходит, когда требуется представление чего-либо в виде строки.
// Например, его производит функция alert.
// Можно также осуществить преобразование явным вызовом String(val):

	// alert( String(null) === "null" ); // true

// Также для явного преобразования применяется оператор "+", у которого один из аргументов строка.
// В этом случае он приводит к строке и другой аргумент, т.е. работает как конкатенация например:
	console.log(true+"test"); 	    // truetest
	console.log(10+'5');	    	// 105
    console.log('' + 1 + 2 + '2');  // 122

// Объекты при переводе в строку превращаются в строку [object Object]
    console.log({a:'aa'} + '1');   // [object Object]1
   // Массивы переводятся в строку вида 'el,el'
    console.log([1,[0],2] + [1] + '9');     // 1,0,219
	
// ---------------- численное преобразование ---------------------------------------------------------
// Численное преобразование происходит в математических функциях и выражениях,
// а также при сравнении(<, <=, >, >=,!=,==) данных различных типов.
// Также есть операторы строгого сравнения(или идентичности) ===, !==. Они не произодят преобразования 
// и если типы данных у сравниваемых опрерандов различны результатом будет false
    console.log('To number:');

    console.log(false == '0');  // true - т.к. приводится к числу оба операнда из-за знака ==
    console.log(false === '0'); // false
	
// Для преобразования к числу в явном виде можно вызвать Number(val), либо, что короче, поставить перед выражением унарный плюс "+":
    var a='5';
    a = +a;
    console.log(10+a);		// 15
// Неявное преобразование типов в числа происходит по следующим правилам:
// Значение     -   Результат
// --------------------------
// undefined    -   NaN
// null         -   0. Но при сравнении == null не преобразуется в 0. null == undefined и не равны никакому другому значению.
// true/false   -   1/0
// String       -   Пробельные символы по краям обрезаются. Если остается пустая строка '' = 0.
//                  Из непустой строки считывается число('0' = 0, '345' = 345)
//                  Не путать с логическим преобразованием, где строка '0' - это true
//                  При ошибке(в строке кроме/вместо цифр находятся буквы или символы) -    NaN

    var n;
    console.log(3*n);           // NaN
    console.log( 1 - '2');      // -1
    console.log( 1 - '2$');     // NaN
    console.log(null-3);        // -3
    console.log(null==0);       // false
    console.log(null>=0);       // true
    console.log(false=='');       // true
    console.log(false=='0');       // true
    
    console.log(false==[]);     // true - массив преобразуется в пустую строку '' через метод toString
// Массивы c элементами переводятся в строку вида 'el,el' через метод toString
    console.log([1,[0],2] + [1] );     // 1,0,21
    console.log([1,[0,33,[99,98]],2] + [1]);

    

// ---------------- логическое преобразование ---------------------------------------------------------
// Логическое преобразование происходит в инструкции if(value) {}
// где в value используют логические операторы(||,&&, !)

// Логическое преобразование происходит по следующим правилам:
// 5 значений null, NaN, 0(-0), ''(пустая строка), undefined  - преобразуются в false

// Всё остальное - true
// В т.ч. {},[] - пустые объекты или массивы, '0' - строка с нулем, ' ' - строка с пробелом.

    console.log('To boolean:');


    if (('' || 'null') ) {
        console.log(('' || 'null')); // строка 'null'
    } else console.log(false)

    if (!('0'))  {
        console.log('no results');
    }

    console.log('0' || 1);		// 0(строка) - при логическом преобразовании строка '0' - это true
                                // без if () {}  возвращается непосредственно само значение операнда,
                                // которое при логическом преобразовании соответствует таковому true или false

</script>
</body>
</html>